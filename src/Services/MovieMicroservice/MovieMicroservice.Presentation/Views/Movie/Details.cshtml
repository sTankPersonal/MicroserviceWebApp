@using MovieMicroservice.Presentation.Models.Movie
@using MovieMicroservice.Presentation.Models.MovieCategory
@model MovieViewModel
@{
    ViewData["Title"] = "Recipe Details";
}
<style>
    ul, ol {
        list-style: none;
        padding-left: 0;
        margin-left: 0;
    }
</style>
<h2>Recipe Details - @Model.Name</h2>

<p>
    @* <strong>Prep Time:</strong> @(Model.PrepTimeInMinutes / 60)h @(Model.PrepTimeInMinutes % 60)min<br /> *@
</p>

<h4>Categories</h4>
@if (Model.HasCategories())
{
    <ul>
        @foreach (MovieCategoryViewModel category in Model.Categories)
        {
            <li>
                @category.CategoryName
            </li>
        }
    </ul>
}
else
{
    <p>No categories listed.</p>
}

<a asp-controller="Recipe" asp-action="Index" class="btn btn-secondary">Back to List</a>
<a asp-controller="Recipe" asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Edit</a>
<a asp-controller="Recipe" asp-action="Delete" asp-route-idRecipe="@Model.Id" class="btn btn-danger">Delete</a>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.strike-toggle').forEach(function (checkbox) {
                checkbox.addEventListener('change', function () {
                    var span = this.nextElementSibling;
                    if (this.checked) {
                        span.style.textDecoration = 'line-through';
                        span.style.color = '#888';
                    } else {
                        span.style.textDecoration = '';
                        span.style.color = '';
                    }
                });
            });
        });
    </script>
}